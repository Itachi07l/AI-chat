@import './_variables.css';
@import './chat/sidebar.css';
@import './chat/header.css';
@import './chat/list.css';
@import './chat/input.css';

/* Theme and layout for the chat home page - mobile first */

:root, .theme-dark {
  --bg-color: rgb(var(--bg));
  --text-color: rgb(var(--text));
  --muted-color: rgb(var(--muted));
  --card-color: rgb(var(--card));
  --primary-color: rgb(var(--primary));
  --border-color: rgb(var(--border));
}

html, body, #root { height: 100%; }
.app-shell{ min-height:100vh; display:flex; flex-direction:column; background: linear-gradient(180deg, #0f0f10, #111114 60%), var(--bg-color); color: var(--text-color); }
.app-shell::after{ content: ''; position: fixed; inset: 0; pointer-events: none; background: radial-gradient(800px 400px at 20% 10%, rgba(24,12,48,0.18), transparent 10%), radial-gradient(600px 300px at 90% 80%, rgba(6,18,48,0.14), transparent 10%) }
.chat-container{ display:grid; grid-template-columns: 1fr; gap: 12px; padding: 12px; width:100%; height:100vh; }

/* left rail (mobile hidden) */
.left-rail{ display:none }
.left-rail .rail-list{ list-style:none; padding:8px 6px; margin:0; display:flex; flex-direction:column; gap:10px }
.left-rail .rail-item{ width:40px; height:40px; display:flex; align-items:center; justify-content:center; border-radius:8px; color:var(--text); background: transparent; border:1px solid transparent }

.left-rail{ background: rgba(0,0,0,0.25); border-radius:12px; padding-top:12px }
.left-rail .rail-list{ padding:6px }
.left-rail .rail-item{ width:44px; height:44px; border-radius:10px; color:var(--text); }
.left-rail .rail-item:hover{ background: rgba(255,255,255,0.02) }
.left-rail .rail-bottom{ margin-top:auto; padding:12px; display:flex; justify-content:center }
.left-rail .avatar{ width:36px; height:36px; border-radius:999px; background: rgba(255,255,255,0.03); display:flex; align-items:center; justify-content:center; color:var(--text) }
.left-rail .rail-item:focus, .left-rail .rail-item:active{ outline: none; background: rgba(255,255,255,0.04) }
.left-rail .avatar:hover{ background: rgba(255,255,255,0.04) }


/* main chat panel */
.chat-main{ background: transparent; padding:0; display:flex; flex-direction:column; height:100vh; }

/* composer pill: centered and pinned to bottom */
.composer-wrap{ position: fixed; left: 50%; transform: translateX(-50%); bottom: 18px; z-index: 40; width: calc(100% - 160px); max-width: 920px; }
.chat-main-content{ padding-bottom: 160px; /* space for pinned composer */ max-width: var(--container-max); margin: 0 auto; padding-top: 18px; }

/* selected animation helper */
.chat-list li{ transition: background .12s ease, transform .12s ease, box-shadow .12s ease }
.chat-list li.selected-anim{ animation: selectedPulse .32s ease }
@keyframes selectedPulse{ 0%{ transform: scale(.998); box-shadow: 0 4px 18px rgba(0,0,0,0.25) } 50%{ transform: scale(1.002); box-shadow: 0 12px 36px rgba(0,0,0,0.35) } 100%{ transform: scale(1); box-shadow: 0 6px 20px rgba(0,0,0,0.28) } }

/* Desktop layout: fixed left sidebar and content offset */
@media (min-width: 900px){
  /* 3-column layout: left rail, sidebar, main */
  .chat-container{ grid-template-columns: 52px 320px 1fr; padding:20px; }
  .left-rail{ display:block }
  .sidebar{ display:block; }
  .chat-main{ margin-left: 0; }
  /* Composer centered within main column */
  .composer-wrap{ left: calc(72px + 70px + 50%); margin-bottom:35px; transform: translateX(-50%); width: calc(100% - 72px - 220px - 160px); max-width: 900px }
}
